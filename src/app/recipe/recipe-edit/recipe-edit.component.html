<form [formGroup]="recipeForm" (submit)="onSubmit()">
  <div>
    <div class="button">
      <button mat-stroked-button color="accent" type="submit" style="margin-right: 1%" [disabled]="recipeForm.invalid">Save</button>
      <button mat-stroked-button color="accent" style="margin-left: 1%" type="button" (click)="onCancelRecipe()">Cancel</button>
    </div>
    <mat-form-field class="example-full-width" color="accent">
      <input matInput placeholder="Name" formControlName="name">
    </mat-form-field>
    <mat-form-field class="example-full-width" color="accent">
      <input matInput placeholder="Image URL" formControlName="imagePath" >
    </mat-form-field>
    <mat-form-field class="example-full-width" color="accent">
      <textarea matInput placeholder="Description" formControlName="description"></textarea>
    </mat-form-field>
    <div formArrayName="ingredients">
      <div class="ingr" *ngFor="let ingredientCrtl of recipeForm.get('ingredients')['controls']; let i = index" [formGroupName]="i">
        <mat-form-field class="example-full-width" color="accent" style="width: 60%; margin-right: 1%">
          <input matInput placeholder="Ingredient" formControlName="name">
        </mat-form-field>
        <mat-form-field class="example-full-width" color="accent" style="width: 30%; margin-left: 1%; margin-right: 1%">
          <input matInput placeholder="Amount" pattern="^[1-9]+[0-9]*$" formControlName="amount">
        </mat-form-field>
        <button mat-mini-fab style="margin-left: 1%; background: orange" (click)="onCancel(i)">X</button>
      </div>
    </div>
    <button mat-stroked-button color="accent" style="margin-right: 1%" type="button" (click)="onAddIngredients()">Add Ingredients</button>
  </div>
</form>
